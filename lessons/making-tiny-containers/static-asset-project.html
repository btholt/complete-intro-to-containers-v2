<!DOCTYPE html><html><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width"/><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon.png"/><link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.png"/><link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16.png"/><link rel="icon" type="image/x-icon" href="/images/favicon.ico"/><title>Static Asset Project – Complete Intro to Containers</title><meta name="description" content="Learn how to build a front end website using Astro, React, TypeScript, and Tailwind with step-by-step instructions. Create a multi-stage Dockerfile to build and serve the project with NGINX, simplifying static file serving for your users."/><meta name="keywords" content="Astro,React,TypeScript,Tailwind,Dockerfile,NGINX,static assets"/><meta name="og:description" content="Learn how to build a front end website using Astro, React, TypeScript, and Tailwind with step-by-step instructions. Create a multi-stage Dockerfile to build and serve the project with NGINX, simplifying static file serving for your users."/><meta name="og:title" content="Static Asset Project – Complete Intro to Containers"/><meta name="og:image" content="/images/social-share-cover.jpg"/><meta name="twitter:card" content="summary_large_image"/><meta name="next-head-count" content="14"/><link data-next-font="size-adjust" rel="preconnect" href="/" crossorigin="anonymous"/><link rel="preload" href="/_next/static/css/cfac17cb37b27821.css" as="style" crossorigin=""/><link rel="stylesheet" href="/_next/static/css/cfac17cb37b27821.css" crossorigin="" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" crossorigin="" nomodule="" src="/_next/static/chunks/polyfills-c67a75d1b6f99dc8.js"></script><script src="/_next/static/chunks/webpack-4e7214a60fad8e88.js" defer="" crossorigin=""></script><script src="/_next/static/chunks/framework-5429a50ba5373c56.js" defer="" crossorigin=""></script><script src="/_next/static/chunks/main-d2ba44903cd47711.js" defer="" crossorigin=""></script><script src="/_next/static/chunks/pages/_app-564cf6bb10408614.js" defer="" crossorigin=""></script><script src="/_next/static/chunks/pages/lessons/%5Bsection%5D/%5Bslug%5D-ba225542c35827e2.js" defer="" crossorigin=""></script><script src="/_next/static/nARcRKX1ZlcrYUdSUSS9z/_buildManifest.js" defer="" crossorigin=""></script><script src="/_next/static/nARcRKX1ZlcrYUdSUSS9z/_ssgManifest.js" defer="" crossorigin=""></script></head><body><div id="__next"><div class="remix-app"><header class="navbar"><h1 class="navbar-brand"><a href="/">Complete Intro to Containers</a></h1><div class="navbar-info"><a href="https://holt.fyi/containers" class="cta-btn">Watch on Frontend Masters</a></div></header><div class="content-container"><div class="main"><div class="lesson-container"><div class="lesson"><div class="lesson-content"><p>We&#39;re going to do a project now! Feel free to attempt the project first and then follow along with me as I code the answer.</p>
<p>We&#39;re going to construct a very basic front end website with Astro, React, TypeScript, and Tailwind. Why these? Because I want it to have a lot of dependencies and a big build step. This class isn&#39;t about any of these things but if you want to take a class on React, my <a href="https://frontendmasters.com/courses/complete-react-v8/">intro</a> and <a href="https://frontendmasters.com/courses/intermediate-react-v5/">intermediate</a> classes are available on Frontend Masters.</p>
<p>You have two choices here: you can either create your own Astro project with <code>npx create-astro@latest</code> or you can just use my copy of it. I added Tailwind and React to mine but you don&#39;t necessarily need to as it doesn&#39;t really affect building the project.</p>
<p>Also feel free to use your own static asset project or favorite static assets framework. As long as <code>npm run build</code> works and you make sure to get the path right for where the assets are to be served from, it doesn&#39;t matter.</p>
<p><a href="https://github.com/btholt/project-files-for-complete-intro-to-containers-v2/blob/main/static-asset-project">⛓️ Link to the Project</a></p>
<blockquote>
<p>Do note I have the complete Dockerfile in there under <code>solution.Dockerfile</code>. Only glance at it once you&#39;ve tried to build it yourself.</p>
</blockquote>
<p>You should have your project ready to go now.</p>
<p>To make sure this works right now, run <code>npm run dev</code> in your console and make sure the app starts okay. You should see a splash screen. Once you&#39;re ready to build it, run <code>npm run build</code> to have it build for production.</p>
<p>The project is to make a multi-stage Dockerfile that build the project in one container and then serves it from a different container using NGINX. If you&#39;re not familiar with NGINX, fear not! It is a static file server, which is to say it take takes HTML, CSS, JS, images, fonts, etc. and serves them to your users. It handles all the serving and file headers for you. Using it can be accomplished in few steps. You&#39;ll use the <code>nginx:latest</code> (or <code>nginx:alpine</code>! up to you) container and copy <strong>just the newly built files, not everything</strong> (which is in the <code>dist</code> directory inside of the Astro app) to <code>/usr/share/nginx/html</code> and the <code>nginx</code> will take care of the rest. The <code>nginx</code> container defines <code>CMD</code> in it and if you don&#39;t override it, it starts NGINX for you. Give it a shot! Once you&#39;ve tried, come back here and we&#39;ll do the solution together.</p>
<blockquote>
<p>NGINX runs on port 80 by default, so you probably want to route that something like 8080 on your host machine (otherwise you have to run it as root which no one wants to do.) In other words, use <code>-p 8080:80</code> when you start Docker.</p>
</blockquote>
<p>Scroll down to see my answer.</p>
<div style="height: 600px"></div>

<p>Done? If you gave it a shot, your Dockerfile probably shouldn&#39;t very long. Let&#39;s see what I came up with</p>
<pre><code class="hljs language-Dockerfile"><span class="hljs-keyword">FROM</span> node:<span class="hljs-number">20</span> AS node-builder
<span class="hljs-keyword">WORKDIR</span><span class="language-bash"> /app</span>
<span class="hljs-keyword">COPY</span><span class="language-bash"> . .</span>
<span class="hljs-keyword">RUN</span><span class="language-bash"> npm ci</span>
<span class="hljs-keyword">RUN</span><span class="language-bash"> npm run build</span>

<span class="hljs-comment"># you could totally use nginx:alpine here too</span>
<span class="hljs-keyword">FROM</span> nginx:latest
<span class="hljs-keyword">COPY</span><span class="language-bash"> --from=node-builder /app/dist /usr/share/nginx/html</span>
</code></pre><p>Now if you run this, it should work:</p>
<pre><code class="hljs language-bash">docker build -t my-static-app .
docker run -it -p 8080:80 --name my-app --<span class="hljs-built_in">rm</span> --init my-static-app
</code></pre><p>It should be working now! Hooray! Hopefully you&#39;re starting to see the power of what Docker can unlock for you.</p>
</div><div class="lesson-links"><a href="/lessons/making-tiny-containers/distroless" class="prev">← Previous</a><a href="/lessons/docker-features/bind-mounts" class="next">Next →</a></div></div><div class="details-bg"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="154" height="154" viewBox="0 0 154 154"><defs><clipPath id="clip-path"><rect id="Rectangle_2238" data-name="Rectangle 2238" width="154" height="154" transform="translate(9467 350)" fill="#fff" stroke="#707070" stroke-width="1"></rect></clipPath><clipPath id="clip-corner-image-active"><rect width="154" height="154"></rect></clipPath></defs><g id="corner-image-active" clip-path="url(#clip-corner-image-active)"><g id="Corner-image-active-2" data-name="Corner-image-active" transform="translate(-9467 -350)" clip-path="url(#clip-path)"><path id="Subtraction_34" data-name="Subtraction 34" d="M-3857.365,1740.766h0l-7.07-7.07,12.89-12.89v14.142l-5.818,5.818Zm-14.142-14.142h0l-7.071-7.07,27.033-27.033v14.143l-19.96,19.96Zm-14.143-14.143h0l-7.07-7.069,41.175-41.175v14.142Zm-14.142-14.142h0l-7.07-7.069,55.317-55.317v14.142Zm-14.142-14.142h0l-7.07-7.069,69.459-69.459v14.142Zm-14.142-14.142h0l-7.07-7.069,76.739-76.739h6.862v7.28Zm-14.143-14.143h0l-7.07-7.069,62.6-62.6h14.142Zm-14.142-14.142h0l-7.07-7.069,48.454-48.454h14.142Zm-14.142-14.142h0l-7.07-7.069,34.312-34.312h14.142Zm-14.142-14.142h0l-7.07-7.069,20.17-20.17h14.142Zm-14.142-14.142h0l-7.071-7.071,6.027-6.027h14.144l-13.1,13.1Zm367.24-56.114v-.909l.455.455-.453.453Z" transform="translate(13472.546 -1236.766)" fill="var(--corner-fill)"></path></g></g></svg></div></div></div></div><footer class="footer"><ul class="socials"><li class="social"><a href="https://twitter.com/holtbt"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="40" height="32" viewBox="0 0 40 32"><defs><clipPath id="clip-twitter-social"><rect width="40" height="32"></rect></clipPath></defs><g id="twitter-social" clip-path="url(#clip-twitter-social)"><g id="Group_269" data-name="Group 269" transform="translate(-230.23 -1140.849)"><path id="Path_419" data-name="Path 419" d="M266.12,1148.861v1.035a23.092,23.092,0,0,1-1.507,8.1,24.08,24.08,0,0,1-4.475,7.381,22.175,22.175,0,0,1-7.306,5.4,24.129,24.129,0,0,1-10,2.07,23.7,23.7,0,0,1-6.667-.945,22.83,22.83,0,0,1-5.936-2.655q.959.091,1.963.09a16.518,16.518,0,0,0,5.434-.9,17.111,17.111,0,0,0,4.749-2.52,8.275,8.275,0,0,1-4.749-1.643,7.8,7.8,0,0,1-2.877-3.983,8.268,8.268,0,0,0,1.507.135,8.58,8.58,0,0,0,2.146-.27,8.16,8.16,0,0,1-5.685-4.344,8.326,8.326,0,0,1-.89-3.578v-.135a7.775,7.775,0,0,0,3.744,1.035,8.183,8.183,0,0,1-2.671-2.9,7.817,7.817,0,0,1-.982-3.848,7.948,7.948,0,0,1,1.1-4.05,23.53,23.53,0,0,0,16.895,8.46,9.221,9.221,0,0,1-.183-1.845,7.787,7.787,0,0,1,1.1-4.05,8.216,8.216,0,0,1,2.991-2.948,7.991,7.991,0,0,1,4.087-1.1,8.184,8.184,0,0,1,5.982,2.566,16.087,16.087,0,0,0,5.205-1.98,7.784,7.784,0,0,1-1.393,2.588,8.4,8.4,0,0,1-2.215,1.913,16.856,16.856,0,0,0,4.749-1.305A17.032,17.032,0,0,1,266.12,1148.861Z" fill="var(--footer-icons)"></path></g></g></svg></a></li><li class="social"><a href="https://github.com/btholt"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="32" height="32" viewBox="0 0 32 32"><defs><clipPath id="clip-github-social"><rect width="32" height="32"></rect></clipPath></defs><g id="github-social" clip-path="url(#clip-github-social)"><g id="Group_272" data-name="Group 272" transform="translate(13522.5 -6994)"><path id="Subtraction_33" data-name="Subtraction 33" d="M-24967.5,8041a15.9,15.9,0,0,1-11.312-4.688A15.893,15.893,0,0,1-24983.5,8025a15.893,15.893,0,0,1,4.689-11.315A15.894,15.894,0,0,1-24967.5,8009a15.894,15.894,0,0,1,11.313,4.686A15.893,15.893,0,0,1-24951.5,8025a15.893,15.893,0,0,1-4.689,11.313A15.9,15.9,0,0,1-24967.5,8041Zm-3.781-4.571h0v3.918h7.895v-6.665a1.836,1.836,0,0,0-1.2-1.718c5.1-.617,7.467-2.975,7.467-7.424a7.176,7.176,0,0,0-1.637-4.728,6.74,6.74,0,0,0,.275-1.812,4.34,4.34,0,0,0-.52-2.452.574.574,0,0,0-.359-.1c-1.061,0-3.465,1.411-3.936,1.694a16.644,16.644,0,0,0-4.2-.489,16.379,16.379,0,0,0-3.969.445c-.846-.5-2.91-1.649-3.859-1.649a.566.566,0,0,0-.354.095,4.3,4.3,0,0,0-.521,2.452,6.7,6.7,0,0,0,.244,1.718,7.346,7.346,0,0,0-1.6,4.822,7.263,7.263,0,0,0,1.533,4.985c1.193,1.359,3.115,2.165,5.871,2.464a1.826,1.826,0,0,0-1.129,1.693v.5h0l-.006,0a7.121,7.121,0,0,1-2.033.363,2.608,2.608,0,0,1-.965-.158,4.438,4.438,0,0,1-1.836-1.881,2.361,2.361,0,0,0-1.248-1.091,3.472,3.472,0,0,0-1.217-.3.584.584,0,0,0-.545.224.282.282,0,0,0,.027.367,1.875,1.875,0,0,0,.447.307,4.732,4.732,0,0,1,.561.355,10.726,10.726,0,0,1,1.682,2.755c.043.092.078.163.105.217a3.876,3.876,0,0,0,2.42,1.185,6.036,6.036,0,0,0,.607.025c.875,0,1.988-.124,2-.125Z" transform="translate(11461 -1015)" fill="var(--footer-icons)"></path><g id="Ellipse_670" data-name="Ellipse 670" transform="translate(-13522.5 6994)" fill="none" stroke="var(--footer-icons)" stroke-width="1"><circle cx="16" cy="16" r="16" stroke="none"></circle><circle cx="16" cy="16" r="15.5" fill="none"></circle></g></g></g></svg></a></li><li class="social"><a href="https://linkedin.com/in/btholt"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="32" height="32" viewBox="0 0 32 32"><defs><clipPath id="clip-linkedin-social"><rect width="32" height="32"></rect></clipPath></defs><g id="linkedin-social" clip-path="url(#clip-linkedin-social)"><g id="Group_270" data-name="Group 270" transform="translate(-86.349 -633.073)"><path id="Path_375" data-name="Path 375" d="M115.789,633.073a2.324,2.324,0,0,1,1.682.676,2.194,2.194,0,0,1,.695,1.627V662.8a2.131,2.131,0,0,1-.695,1.609,2.314,2.314,0,0,1-1.646.659H88.69a2.307,2.307,0,0,1-1.646-.659,2.128,2.128,0,0,1-.695-1.609V635.376a2.19,2.19,0,0,1,.695-1.627,2.322,2.322,0,0,1,1.682-.676h27.063Zm-20.224,9.672a2.561,2.561,0,0,0,0-3.584,2.658,2.658,0,0,0-1.938-.712,2.724,2.724,0,0,0-1.957.712,2.371,2.371,0,0,0-.75,1.792,2.4,2.4,0,0,0,.731,1.792,2.605,2.605,0,0,0,1.9.713h.037A2.7,2.7,0,0,0,95.565,642.745ZM96,645.434H91.213V659.88H96Zm17.3,6.144a7.007,7.007,0,0,0-1.573-4.9,5.68,5.68,0,0,0-6.839-.769,5.663,5.663,0,0,0-1.426,1.573v-2.048H98.674q.036.841,0,7.717v6.728h4.791V651.8a3.592,3.592,0,0,1,.146-1.17,2.913,2.913,0,0,1,.878-1.206,2.429,2.429,0,0,1,1.609-.549,2.108,2.108,0,0,1,1.865.914,4.265,4.265,0,0,1,.549,2.341v7.752H113.3Z" fill="var(--footer-icons)"></path></g></g></svg></a></li><li class="social"><div class="terms"><p>Content Licensed Under CC-BY-NC-4.0</p><p>Code Samples and Excercises Licensed Under Apache 2.0</p><p>Site Designed by<!-- --> <a href="https://www.alexdanielson.com/">Alex Danielson</a></p></div></li></ul></footer></div><script async="" defer="" src="https://a.holt.courses/latest.js"></script><noscript><img src="https://a.holt.courses/noscript.gif" alt="" referrerPolicy="no-referrer-when-downgrade"/></noscript></div><script id="__NEXT_DATA__" type="application/json" crossorigin="">{"props":{"pageProps":{"post":{"attributes":{"description":"Learn how to build a front end website using Astro, React, TypeScript, and Tailwind with step-by-step instructions. Create a multi-stage Dockerfile to build and serve the project with NGINX, simplifying static file serving for your users.","keywords":["Astro","React","TypeScript","Tailwind","Dockerfile","NGINX","static assets"]},"html":"\u003cp\u003eWe\u0026#39;re going to do a project now! Feel free to attempt the project first and then follow along with me as I code the answer.\u003c/p\u003e\n\u003cp\u003eWe\u0026#39;re going to construct a very basic front end website with Astro, React, TypeScript, and Tailwind. Why these? Because I want it to have a lot of dependencies and a big build step. This class isn\u0026#39;t about any of these things but if you want to take a class on React, my \u003ca href=\"https://frontendmasters.com/courses/complete-react-v8/\"\u003eintro\u003c/a\u003e and \u003ca href=\"https://frontendmasters.com/courses/intermediate-react-v5/\"\u003eintermediate\u003c/a\u003e classes are available on Frontend Masters.\u003c/p\u003e\n\u003cp\u003eYou have two choices here: you can either create your own Astro project with \u003ccode\u003enpx create-astro@latest\u003c/code\u003e or you can just use my copy of it. I added Tailwind and React to mine but you don\u0026#39;t necessarily need to as it doesn\u0026#39;t really affect building the project.\u003c/p\u003e\n\u003cp\u003eAlso feel free to use your own static asset project or favorite static assets framework. As long as \u003ccode\u003enpm run build\u003c/code\u003e works and you make sure to get the path right for where the assets are to be served from, it doesn\u0026#39;t matter.\u003c/p\u003e\n\u003cp\u003e\u003ca href=\"https://github.com/btholt/project-files-for-complete-intro-to-containers-v2/blob/main/static-asset-project\"\u003e⛓️ Link to the Project\u003c/a\u003e\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003eDo note I have the complete Dockerfile in there under \u003ccode\u003esolution.Dockerfile\u003c/code\u003e. Only glance at it once you\u0026#39;ve tried to build it yourself.\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003eYou should have your project ready to go now.\u003c/p\u003e\n\u003cp\u003eTo make sure this works right now, run \u003ccode\u003enpm run dev\u003c/code\u003e in your console and make sure the app starts okay. You should see a splash screen. Once you\u0026#39;re ready to build it, run \u003ccode\u003enpm run build\u003c/code\u003e to have it build for production.\u003c/p\u003e\n\u003cp\u003eThe project is to make a multi-stage Dockerfile that build the project in one container and then serves it from a different container using NGINX. If you\u0026#39;re not familiar with NGINX, fear not! It is a static file server, which is to say it take takes HTML, CSS, JS, images, fonts, etc. and serves them to your users. It handles all the serving and file headers for you. Using it can be accomplished in few steps. You\u0026#39;ll use the \u003ccode\u003enginx:latest\u003c/code\u003e (or \u003ccode\u003enginx:alpine\u003c/code\u003e! up to you) container and copy \u003cstrong\u003ejust the newly built files, not everything\u003c/strong\u003e (which is in the \u003ccode\u003edist\u003c/code\u003e directory inside of the Astro app) to \u003ccode\u003e/usr/share/nginx/html\u003c/code\u003e and the \u003ccode\u003enginx\u003c/code\u003e will take care of the rest. The \u003ccode\u003enginx\u003c/code\u003e container defines \u003ccode\u003eCMD\u003c/code\u003e in it and if you don\u0026#39;t override it, it starts NGINX for you. Give it a shot! Once you\u0026#39;ve tried, come back here and we\u0026#39;ll do the solution together.\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003eNGINX runs on port 80 by default, so you probably want to route that something like 8080 on your host machine (otherwise you have to run it as root which no one wants to do.) In other words, use \u003ccode\u003e-p 8080:80\u003c/code\u003e when you start Docker.\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003eScroll down to see my answer.\u003c/p\u003e\n\u003cdiv style=\"height: 600px\"\u003e\u003c/div\u003e\n\n\u003cp\u003eDone? If you gave it a shot, your Dockerfile probably shouldn\u0026#39;t very long. Let\u0026#39;s see what I came up with\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-Dockerfile\"\u003e\u003cspan class=\"hljs-keyword\"\u003eFROM\u003c/span\u003e node:\u003cspan class=\"hljs-number\"\u003e20\u003c/span\u003e AS node-builder\n\u003cspan class=\"hljs-keyword\"\u003eWORKDIR\u003c/span\u003e\u003cspan class=\"language-bash\"\u003e /app\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003eCOPY\u003c/span\u003e\u003cspan class=\"language-bash\"\u003e . .\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003eRUN\u003c/span\u003e\u003cspan class=\"language-bash\"\u003e npm ci\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003eRUN\u003c/span\u003e\u003cspan class=\"language-bash\"\u003e npm run build\u003c/span\u003e\n\n\u003cspan class=\"hljs-comment\"\u003e# you could totally use nginx:alpine here too\u003c/span\u003e\n\u003cspan class=\"hljs-keyword\"\u003eFROM\u003c/span\u003e nginx:latest\n\u003cspan class=\"hljs-keyword\"\u003eCOPY\u003c/span\u003e\u003cspan class=\"language-bash\"\u003e --from=node-builder /app/dist /usr/share/nginx/html\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eNow if you run this, it should work:\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-bash\"\u003edocker build -t my-static-app .\ndocker run -it -p 8080:80 --name my-app --\u003cspan class=\"hljs-built_in\"\u003erm\u003c/span\u003e --init my-static-app\n\u003c/code\u003e\u003c/pre\u003e\u003cp\u003eIt should be working now! Hooray! Hopefully you\u0026#39;re starting to see the power of what Docker can unlock for you.\u003c/p\u003e\n","markdown":"\nWe're going to do a project now! Feel free to attempt the project first and then follow along with me as I code the answer.\n\nWe're going to construct a very basic front end website with Astro, React, TypeScript, and Tailwind. Why these? Because I want it to have a lot of dependencies and a big build step. This class isn't about any of these things but if you want to take a class on React, my [intro][intro] and [intermediate][intermediate] classes are available on Frontend Masters.\n\nYou have two choices here: you can either create your own Astro project with `npx create-astro@latest` or you can just use my copy of it. I added Tailwind and React to mine but you don't necessarily need to as it doesn't really affect building the project.\n\nAlso feel free to use your own static asset project or favorite static assets framework. As long as `npm run build` works and you make sure to get the path right for where the assets are to be served from, it doesn't matter.\n\n[⛓️ Link to the Project][project]\n\n\u003e Do note I have the complete Dockerfile in there under `solution.Dockerfile`. Only glance at it once you've tried to build it yourself.\n\nYou should have your project ready to go now.\n\nTo make sure this works right now, run `npm run dev` in your console and make sure the app starts okay. You should see a splash screen. Once you're ready to build it, run `npm run build` to have it build for production.\n\nThe project is to make a multi-stage Dockerfile that build the project in one container and then serves it from a different container using NGINX. If you're not familiar with NGINX, fear not! It is a static file server, which is to say it take takes HTML, CSS, JS, images, fonts, etc. and serves them to your users. It handles all the serving and file headers for you. Using it can be accomplished in few steps. You'll use the `nginx:latest` (or `nginx:alpine`! up to you) container and copy **just the newly built files, not everything** (which is in the `dist` directory inside of the Astro app) to `/usr/share/nginx/html` and the `nginx` will take care of the rest. The `nginx` container defines `CMD` in it and if you don't override it, it starts NGINX for you. Give it a shot! Once you've tried, come back here and we'll do the solution together.\n\n\u003e NGINX runs on port 80 by default, so you probably want to route that something like 8080 on your host machine (otherwise you have to run it as root which no one wants to do.) In other words, use `-p 8080:80` when you start Docker.\n\nScroll down to see my answer.\n\n\u003cdiv style=\"height: 600px\"\u003e\u003c/div\u003e\n\nDone? If you gave it a shot, your Dockerfile probably shouldn't very long. Let's see what I came up with\n\n```Dockerfile\nFROM node:20 AS node-builder\nWORKDIR /app\nCOPY . .\nRUN npm ci\nRUN npm run build\n\n# you could totally use nginx:alpine here too\nFROM nginx:latest\nCOPY --from=node-builder /app/dist /usr/share/nginx/html\n```\n\nNow if you run this, it should work:\n\n```bash\ndocker build -t my-static-app .\ndocker run -it -p 8080:80 --name my-app --rm --init my-static-app\n```\n\nIt should be working now! Hooray! Hopefully you're starting to see the power of what Docker can unlock for you.\n\n[intro]: https://frontendmasters.com/courses/complete-react-v8/\n[intermediate]: https://frontendmasters.com/courses/intermediate-react-v5/\n[project]: https://github.com/btholt/project-files-for-complete-intro-to-containers-v2/blob/main/static-asset-project\n","slug":"static-asset-project","title":"Static Asset Project","section":"Making Tiny Containers","icon":"minimize","filePath":"/home/runner/work/complete-intro-to-containers-v2/complete-intro-to-containers-v2/lessons/05-making-tiny-containers/E-static-asset-project.md","nextSlug":"/lessons/docker-features/bind-mounts","prevSlug":"/lessons/making-tiny-containers/distroless"}},"__N_SSG":true},"page":"/lessons/[section]/[slug]","query":{"section":"making-tiny-containers","slug":"static-asset-project"},"buildId":"nARcRKX1ZlcrYUdSUSS9z","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>